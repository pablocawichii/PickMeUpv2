<h1>Edit {{ driver ? driver.name : '' }}</h1>
<div class="row" *ngIf="driver">
	<div class="col-xs-12">
		<form [formGroup]="driverForm" (ngSubmit)="onSubmit()" >

			<div class="row">
				<div class="col-xs-12">
					<button [disabled]="!driverForm.valid" type="submit" class="btn btn-success">Save</button>				
					<button type="button" class="btn btn-danger" (click)="onCancel()">Cancel</button>
				</div>
			</div>

			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" name="name" class="form-control" formControlName="name">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="email">Email</label>
						<input type="text" name="email" class="form-control" formControlName="email">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="status">Status</label>
						<input type="text" name="status" class="form-control" formControlName="status">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-xs-12" formArrayName="cars">
						<div  [ngClass]="{highlight: formCurrentCar == i, row: true}" *ngFor="let carControl of getDriversCtrl(); let i = index" [formGroupName]="i" style="margin-top: 10px;">

							<label class="col-xs-4" for="carModel">Model</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" name="carModel" formControlName="model">
							</div>
							<label class="col-xs-4" for="carBrand">Brand</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" name="carBrand" formControlName="brand">
							</div>
							<label class="col-xs-4" for="carColor">Color</label>
							<div class="col-xs-8">
								<input type="text" class="form-control" name="carColor" formControlName="color">
							</div>
							<label class="col-xs-4" for="carYear">Year</label>
							<div class="col-xs-8">
								<input type="number" class="form-control" name="carYear" formControlName="year">
							</div>							
							<div class="col-xs-4">
								<button type="button" class="btn btn-danger" (click)="onDeleteCar(i)" >Delete Car</button>
							</div>							
							<div class="col-xs-4">
								<button type="button" class="btn btn-primary" (click)="makeCurrentCar(i)" >Primary Car</button>
							</div>
							<hr>
						</div>
						<hr>
						<div class="row">
							<div class="col-xs-12">
								<button class="btn btn-success" type="button" (click)="onAddCar()" >Add Car</button>
							</div>
						</div>

				</div>
			</div>

		</form>
	</div>
</div>